(function(){"use strict";define("qix",function(){var n="qix-element-placeholder";var r=o.bind(null,"qix");function t(n){return"length"in n&&"number"===typeof n.length}function e(n){return t(n)?Array.prototype.slice.call(n):[n]}function u(n){var r=document.createElement("div");r.innerHTML=n;return e(r.children)}function i(n){if("string"===typeof n){return u(n)}else return e(n)}function o(n,r){return a(r)[0]===n}function a(n){return n.name.split(":")}function c(n,r){return e(r.attributes).reduce(function(r,t){if(o(y(n),t)){var e=b(a(t)[1]);r[e]=t.value}return r},{})}function f(n,r){var t=a(r)[1];var e=r.value.split("#");return{name:b(t),module_path:e[0],module_prop:e[1]}}function l(n){return e(n.attributes).filter(r).map(f.bind(null,n))}function s(n,r){for(var t in r)n[t]=r[t];return n}function d(r,t){var e=t.map(p.bind(null,"name"));r.setAttribute(n,e.join(","))}function v(n){return n.reduce(function(n,r){var t=l(r);if(t.length){d(r,t);t.forEach(function(r){n[r.name]=r})}return s(v(e(r.children)),n)},{})}function p(n,r){return r?r[n]:void 0}function m(n,r){return p(r,n)}function _(n,r,t){var e=i(t);var u=v(e);var o=Object.keys(v(e)).map(m.bind(null,u)).map(p.bind(null,"module_path"));require(o,function(){var r=Object.create(g);r._all_ctrl_defs=u;r._master_elem_array=e;n(r)},r)}function h(n){return n.cloneNode(true)}function b(n){return n.replace(/-/g,"_")}function y(n){return n.replace(/_/g,"-")}function w(r,t,u,i){var o=e(i.querySelectorAll("["+n+"]"));if(i.hasAttribute(n))o.unshift(i);o.forEach(function(e){var i=e.getAttribute(n);var o=i.split(",");o.forEach(function(n){var i=r._all_ctrl_defs[n];var o=require(i.module_path);var a=i.module_prop?o[i.module_prop]:o;if(!a)throw new Error("No Factory for ctrl_def"+JSON.stringify(i,null,4));var f=Object.create(i);f.attrs=c.bind(null,n,e);f.elem=e;f.factory=a;u[n]=a(e,t[n],f);u["$"+n]=f})});return u}var g={spawn:function(n){var r=this;var t=r._master_elem_array.map(h);return t.reduce(w.bind(null,r,n),{$root_elems:t})},spawn_into:function(n,r){var t=this.spawn(n);t.$root_elems.forEach(r.appendChild.bind(r));return t}};var T=function(){};return{load:function(n,r,t){r(["text!"+n],_.bind(null,t,T))}}});define("text",function(){function n(n,r){var e=t();if(!e)throw new Error("NO XHR!");e.responseType="text";e.open("GET",n,true);e.onreadystatechange=function(){if(e.readyState!=4)return;if(e.status!=200&&e.status!=304){return}r(e.responseText)};if(e.readyState==4)return;e.send()}var r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];function t(){var n=false;for(var t=0;t<r.length;t++){try{n=r[t]()}catch(e){continue}break}return n}function e(r,t,e,u){var i=t.toUrl(r);n(i,e)}return{load:e}})})();
//# sourceMappingURL=dist/qix.js.map
