!function(){"use strict";function a(a){return a.index=H.push(a)-1,a}function b(a,b,d){var e=j(F(a).map(c)),g={master:a,require:b,deps:e,resolved:d};return g.spawn=function(a,b,c){g.resolved?f(g,a,b,c):g.require(g.deps,function(){g.resolved=!0,f(g,a,b,c)})},g}function c(b){var c=A(E,b).split("|").map(function(b){var c=b.trim().split(":"),d=c[1].split("#"),e=d[0],f=d[1],g=c[0];return a({io:g,module:e,prop:f})}),d=c.map(k.bind(null,"module")),e=c.map(k.bind(null,"index"));return u("qix",b),B(D,e.join(","),b),d}function d(a,b){if(!a.$qix){var c=a.lens("$$"),d=c.filter(t.bind(null,!0,"destroy")).take(1),f=d.onValue.bind(d),g=c.set.bind(c,"destroy");a.$qix={id:I++,on_destroy:f,destroy:g,msg:c,bound:[],child_nodes:[]},a.$qix.on_destroy(e.bind(null,a))}b&&b.$qix.on_destroy(a.$qix.destroy)}function e(a){a.$qix&&(a.$qix.bound=[],C(a.$qix.child_nodes),a.$qix.child_nodes=[],a.$qix=void 0,a.doEnd(),a.set(void 0))}function f(a,b,c,e){d(b);var f=o(!0,a.master);g(f,a,b);var h=v(f,c,e);b.$qix.child_nodes=b.$qix.child_nodes.concat(h)}function g(a,b,c){var d=G(a);d&&(h(d,b,c),u(D,d),g(a,b,c))}function h(a,b,c){var d=A(D,a);if(d){var e=d.split(","),f=e.shift(),g=H[f];B(D,e.join(","),a);var j=i(a,c,b,g);j||h(a,b,c)}}function i(a,c,e,f){function g(){i=!0;var g=document.createComment("strip");x(a,g);var h=document.createElement("div");return h.appendChild(o(!0,a)),{spawn:function(a){d(a,c),f.sub_seed||(f.sub_seed=b(h,e.require,!0)),f.sub_seed.spawn(a,g,"before")},placeholder:g,seed:e}}var h=f.factory;h||(f.factory=h=e.require(f.module));var i=!1;f.prop&&(h=h[f.prop]);var j;f.io?(j=c.lens(f.io),d(j,c)):j=c;var k=h(a,j,c,g,f);return k&&j.$qix.on_destroy(k),i}function j(a){return a.reduce(function(a,b){return a.concat(b)},[])}function k(a,b){return b?b[a]:void 0}function l(a){return!!a&&"length"in a&&"number"==typeof a.length}function m(a){return void 0===a}function n(a,b){return!b&&m(a)?[]:l(a)?Array.prototype.slice.call(a):[a]}function o(a,b){return b.cloneNode(a)}function p(a,b){return b.querySelector(a)}function q(a,b){return n(b.querySelectorAll(a))}function r(a,b){return p("["+a+"]",b)}function s(a,b){return q("["+a+"]",b)}function t(a,b,c){return a?b===c:b==c}function u(a,b){var c=b.getAttribute(a);return b.removeAttribute(a),c}function v(a,b,c){return w(b,c,a)}function w(a,b,c){return n(c.childNodes).map(y.bind(null,a,b))}function x(a,b){return z(b,a,"before"),C(a),b}function y(a,b,c){if(b=b||"append","append"===b||"after"===b&&!a.nextSibling)a.appendChild(c);else{var d=a.parentNode;"prepend"===b?a=d.firstChild:"after"===b&&(a=a.nextSibling),d.insertBefore(c,a)}return c}function z(a,b,c){return y(b,c,a)}function A(a,b){return b.getAttribute(a)}function B(a,b,c){return c.setAttribute(a,b)}function C(a){return n(a).map(function(a){return a.remove(),a})}var D="qix-ctl-indexes",E="qix",F=s.bind(null,E),G=r.bind(null,D),H=[],I=0;define("qix-if",function(){return function(a,b,c,d){function e(){h&&h.$qix&&(console.log("IF DESTROY SUB"),h.$qix.destroy()),h=null}function f(){console.log("IF DESTROY"),e(),j()}var g=d(),h=null,i=!1,j=b.onValue(function(a){i||(i=!0,!h&&a?(h=b.lens(""),g.spawn(h,g.placeholder,"before")):h&&!a&&(e(),h=null),i=!1)});return f}}),define("qix-map",function(){return function(a,b,c,d){function e(a){for(var c=[],d=i.length,e=d;a+d>e;e++){var f=b.lens(""+e);i.push(f),c.push(f)}c.forEach(function(a){h.spawn(a,h.placeholder,"before")})}function f(a){var b=i.splice(a);console.log("MAP DESTROY ",b.length),b.forEach(function(a){a.$qix.destroy()})}function g(){k(),f(-i.length),b.set(void 0),console.log("MAP DESTROY",i,b.get())}var h=d(),i=[],j=!1,k=b.onValue(function(a){if(!j){j=!0,a=n(a);var b=a.length-i.length;0>b?f(b):b>0&&e(b),j=!1}});return g}}),define("qix-tpl",function(){return function(a,b,c,d,e){function f(){console.log("TPL DESTROY"),b.$qix&&b.$qix.destroy()}var g=A("qix-tpl",a),h=d();return e._my_seed?e._my_seed.spawn(b,h.placeholder,"before"):h.seed.require(["qix!"+g],function(a){e._my_seed=a,a.spawn(b,h.placeholder,"before")}),f}}),define("qix",function(){var a={load:function(a,b,c){b(["qix-seed!"+a],c)}};return a}),define("qix-seed",function(){function a(a){var b=document.createElement("div");return b.innerHTML=a,b}function c(c,d,e){var f=require.s.contexts._.makeRequire({name:c},{enableBuildCallback:!0});d(["qix-text!"+c+".html"],function(c){var d=a(c),g=b(d,f);e(g)})}return{load:c}}),define("qix-text",function(){function a(a,b,c){var d=b.toUrl(a);J(d,c)}return{load:a}});var J=function(){function a(a,c){var d=b();if(!d)throw new Error("NO XHR!");d.responseType="text",d.open("GET",a,!0),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status&&304!=d.status)throw new Error("get_remote_text HTTP error for ["+a+"] : "+d.status);c(d.responseText)}},4!=d.readyState&&d.send()}function b(){for(var a=!1,b=0;b<c.length;b++){try{a=c[b]()}catch(d){continue}break}return a}var c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return a}()}();