!function(){"use strict";function a(a){return U.push(a)-1}function b(a){return q(V(a.master).map(i.bind(null,a)))}function c(a,b,c){var d;return function(e){return d||(d=a.require(b),d=c?d[c]:d),d(e)}}function d(a,b,d){var f=d.trim().split(":"),g=f[0],h=f[1].split("#"),i=h[0],j=h[1],k=o(b,g),l={module:i,module_prop:j,scope_name:g,injectors:k,control:c(a,i,j)};return e(b,l),l}function e(b,c){var d=a(c);h(b,d)}function f(a){var b=H("qix-ctrls-binders",a);return b?b.split("|"):[]}function g(a){return f(a).map(s.bind(null,U))}function h(a,b){var c=f(a).concat(b);I("qix-ctrls-binders",c.join("|"),a)}function i(a,b){return H("qix-ctl",b).split("|").map(d.bind(null,a,b))}function j(a){return W.push(a)-1}function k(a){var b=q(Y.map(function(b){var c=b.attr_name;return q(A(c,a.master).map(function(a){var d=H(c,a).split(":")[1];return b.get_deps(d)}))}));return Y.forEach(function(c){for(var d=c.attr_name,e=null;e=z(d,a.master);){var f=document.createElement("i");E(e,f);var g=document.createElement("div"),h=w(!0,e);g.appendChild(h),B(d,h);var i=m(g,a.require);b=b.concat(i.deps);var k=H(d,e).split(":"),l=k[0],n=k[1],p=o(e,l),q=j({hook:c.hooker.bind(null,i,n),scope_name:l,hooker_def:c,injectors:p});I("qix-hooked",q,f)}}),b}function l(a){var b=H("qix-hooked",a);return W[b]}function m(a,b,c){var d={master:a,require:b};return d.spawn=P.bind(null,d),n(d,function(){(c||K)(d)}),d}function n(a,c){var d=k(a),e=b(a),f=e.map(r.bind(null,"module"));a.deps=f.concat(d),a.require(a.deps,c)}function o(a,b){return v(a.attributes).filter(function(a){return a.name.startsWith(b.replace(/_/g,"-")+":")}).map(function(a){var b=a.name.split(":"),c=p(a.value,b[1]);return c})}function p(a,b){var c="!"===a[0];a=c?a.substring(1):a;var d=a.split(">"),e=d[0],f=(d[1]||"").trim(),g=(c?"debugger;":"")+"return ["+e+"];",h=Function.apply(null,["$","_"].concat(g));return function(a,c,d){var e="-"===b?a:a[b],g=h(c,d,a),i=e.apply(null,g);f&&(d[f]=i)}}function q(a){return a.reduce(function(a,b){return a.concat(b)},[])}function r(a,b){return b?b[a]:void 0}function s(a,b){return a?a[b]:void 0}function t(a){return"length"in a&&"number"==typeof a.length}function u(a){return void 0===a}function v(a,b){return!b&&u(a)?[]:t(a)?Array.prototype.slice.call(a):[a]}function w(a,b){return b.cloneNode(a)}function x(a,b){return b.querySelector(a)}function y(a,b){return v(b.querySelectorAll(a))}function z(a,b){return x("["+a+"]",b)}function A(a,b){return y("["+a+"]",b)}function B(a,b){var c=b.getAttribute(a);return b.removeAttribute(a),c}function C(a,b,c){return D(b,c,a)}function D(a,b,c){return v(c.childNodes).map(F.bind(null,a,b))}function E(a,b){return G(b,a,"before"),J(a),b}function F(a,b,c){if(b=b||"append","append"===b||"after"===b&&!a.nextSibling)a.appendChild(c);else{var d=a.parentNode;"prepend"===b?a=d.firstChild:"after"===b&&(a=a.nextSibling),d.insertBefore(c,a)}return c}function G(a,b,c){return F(b,c,a)}function H(a,b){return b.getAttribute(a)}function I(a,b,c){return c.setAttribute(a,b)}function J(a){return v(a).map(function(a){return a.remove(),a})}function K(){}function L(a,b,c){var d="qix-"+a,e=3===arguments.length?c:500;Y.push({name:a,hooker:b,priority:e,attr_name:d,get_deps:b.get_deps||function(){return[]}}),Y.sort(function(a,b){return a.priority<b.priority})}function M(a,b,c,d){function e(){i=!0,c.removeEventListener("destroy",e),g.$destroy(),g=null,h=null}function f(b){return i?void 0:(b&&!g?(h="object"==typeof b?b:d,g=a.spawn(h,c,"before")):!b&&g&&(g.$destroy(),g=null,h=null),f.scope=h,f.cmp=g,g)}var g=null,h=null,i=!1;return c.addEventListener("destroy",e),"true"===b&&f(d),f}function N(a,b,c,d){function e(){f(),i=!0,h.map(r.bind(null,"$content")).forEach(J),h=[],c.removeEventListener("destroy",e)}function f(){h.forEach(function(a){a.$destroy()})}function g(b){return f(),"number"==typeof b&&(b=Array.apply(null,new Array(b))),h=b.map(function(b,e){var f="object"==typeof b?b:d,g=Object.create(f);return g.$index=e,a.spawn(g,c,"before")}),g.cmps=h,h}var h=[],i=!1;return c.addEventListener("destroy",e),g}function O(a,b,c,d){var e=a.require("qix-seed!"+b),f=!1;return v(e.master.childNodes).forEach(function(b){a.master.children[0].appendChild(b)}),function g(b){function e(){f=!0,c.removeEventListener("destroy",e),h.$destroy(),h=null}if(!f){b=b||d;var h=a.spawn(d,c,"before");return c.addEventListener("destroy",e),g.cmp=h,h}}}function P(a,b,c,d){var e=w(!0,a.master),f=T(e,b);return C(e,c,d),f.inject(),f.component}function Q(a,b,c){a.$controlled_nodes.forEach(function(a){var d=new CustomEvent(b,{detail:c,bubbles:!1});a.dispatchEvent(d)})}function R(a){a.$message("destroy"),J(a.$content.concat(a.$controlled_nodes)),a.$content=[],a.$controlled_nodes=[]}function S(a,b){a in b&&console.warn("component prop already taken will be overridden:",a,b[a],b)}function T(a,b){var c=[],d={$controlled_nodes:[]};return d.$message=Q.bind(null,d),d.$destroy=R.bind(null,d),d.$content=v(a.childNodes),V(a).forEach(function(a){g(a).forEach(function(b){S(b.scope_name,d);var e=d[b.scope_name]=b.control(a);d["$"+b.scope_name]=a,c=c.concat(b.injectors.map(function(a){return a.bind(null,e)})),d.$controlled_nodes.unshift(a)})}),X(a).forEach(function(a){var e=l(a);d.$content.splice(d.$content.indexOf(a),1);var f=document.createComment("qix-hooker "+e.scope_name+":"+e.hooker_def.name);E(a,f),S(e.scope_name,d);var g=d[e.scope_name]=e.hook(f,b);c=c.concat(e.injectors.map(function(a){return a.bind(null,g)})),d.$controlled_nodes.unshift(f)}),{inject:function(){c.forEach(function(a){a(b,d)})},component:d}}var U=[],V=y.bind(null,"[qix-ctl]"),W=[],X=A.bind(null,"qix-hooked"),Y=[];L("if",M,1e3),L("map",N,900),O.get_deps=function(a){return"qix-seed!"+a},L("tpl",O,600),define("qix",function(){var a={load:function(a,b,c){b(["qix-seed!"+a],c)}};return a}),define("qix-defhook",function(){function a(a,b,c){var d=a.split(":"),e=d[0],f=d[1].split("#"),g=f[0],h=Number(f[1]);b([e],function(a){L(g,a,h),c(a)})}return{load:a}}),define("qix-seed",function(){function a(a){var b=document.createElement("div");return b.innerHTML=a,b}function b(b,e,f){var g=e.toUrl(b),h=g.substring(0,g.lastIndexOf("/")+1);e(["qix-text!"+b],function(b){var e=a(b),g=require.s.contexts._.config,i=Object.keys(g).reduce(function(a,b){return-1===d.indexOf(b)&&(a[b]=g[b]),a},{});i.baseUrl=h,i.context=c++;var j=require.config(i);m(e,j,f)})}var c=0,d=["deps"];return{load:b}}),define("qix-text",function(){function a(a,b,c){var d=b.toUrl(a);Z(d,c)}return{load:a}});var Z=function(){function a(a,c){var d=b();if(!d)throw new Error("NO XHR!");d.responseType="text",d.open("GET",a,!0),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status&&304!=d.status)throw new Error("get_remote_text HTTP error for ["+a+"] : "+d.status);c(d.responseText)}},4!=d.readyState&&d.send()}function b(){for(var a=!1,b=0;b<c.length;b++){try{a=c[b]()}catch(d){continue}break}return a}var c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return a}()}();