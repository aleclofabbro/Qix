!function(){"use strict";function a(a){return a.reduce(function(a,b){return a.concat(b)},[])}function b(a,b){return b?b[a]:void 0}function c(a){return"length"in a&&"number"==typeof a.length}function d(a){return void 0===a}function e(a,b){return!b&&d(a)?[]:c(a)?Array.prototype.slice.call(a):[a]}function f(a,b){return a.querySelector(b)}function g(a,b){return e(a.querySelectorAll(b))}function h(a,b){return f(b,a)}function i(a,b){return g(b,a)}function j(a,b){return b.getAttribute(a)}function k(a,b){var c=a(b.module);return b.module_prop?c[b.module_prop]:c}function l(a){var b=a.split(":"),c=b[0],d=b[1].split("#"),e=d[0],f=d[1];return{module:e,module_prop:f,name:c}}function m(a){return j("qix",a).split("|").map(l)}function n(c,d){var e=a(v(c.master).map(m)).map(b.bind(null,"module"));c.require(e,d.bind(null,c))}function o(a){var b=Object.create(a);return b.spawn=t.bind(null,b),b}function p(a,b){var c=o(b);n(c,a)}function q(a,b,c,d){r(b,c,d,a)}function r(a,b,c,d){e(d.children).forEach(s.bind(null,a,b,c))}function s(a,b,c,d){if(b=b||"append","append"===b||"after"===b&&!c.nextSibling)a.appendChild(d);else{var e=c;"prepend"===b?e=a.firstChild:"after"===b&&(e=c.nextSibling),a.insertBefore(d,e)}}function t(a,b,c){for(var d,e=a.master.cloneNode(!0);null!==(d=u(e));){d.remove();var f=x[d.attributes[0].name],g=o({require:a.require,master:d});f(g,b)}v(e).map(function(c){m(c).forEach(function(d){var e=k(a.require,d);e(c,b)})}),q(e,c)}var u=h.bind(null,"qix"),v=i.bind(null,"[qix]");define("qix-seed",function(){function a(a){var b=document.createElement("div");return b.innerHTML=a,b}function b(a,b){return b.startsWith(".")?a+b:b}function c(c,d,e,f){var g=c.substring(0,c.lastIndexOf("/")+1),h=b.bind(null,g);d(["text!"+c],function(b){var c=a(b),d={master:c,require:function(a,b,c){if(Array.prototype.isPrototypeOf(a))return a=a.map(h),require(a,b,c);var d=h(a);return require(d)}};e(d)})}return{load:c}}),define("text",function(){function a(a,b,c,d){var e=b.toUrl(a);w(e,c)}return{load:a}});var w=function(){function a(a,c){var d=b();if(!d)throw new Error("NO XHR!");d.responseType="text",d.open("GET",a,!0),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status&&304!=d.status)throw new Error("get_remote_text HTTP error for ["+a+"] : "+d.status);c(d.responseText)}},4!=d.readyState&&d.send()}function b(){for(var a=!1,b=0;b<c.length;b++){try{a=c[b]()}catch(d){continue}break}return a}var c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return a}();define("qix",function(){var a={load:function(a,b,c){b(["qix-seed!"+a],p.bind(null,c))}};return a});var x={"if":function(a,b){a.spawn({},document.body)},map:function(a,b){a.spawn({},document.body)},expose:function(a,b){a.spawn({},document.body)}}}();